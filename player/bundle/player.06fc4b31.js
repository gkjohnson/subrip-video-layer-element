parcelRequire=function(e,r,n,t){function i(n,t){function o(e){return i(o.resolve(e))}function c(r){return e[n][1][r]||r}if(!r[n]){if(!e[n]){var l="function"==typeof parcelRequire&&parcelRequire;if(!t&&l)return l(n,!0);if(u)return u(n,!0);if(f&&"string"==typeof n)return f(n);var p=new Error("Cannot find module '"+n+"'");throw p.code="MODULE_NOT_FOUND",p}o.resolve=c;var a=r[n]=new i.Module(n);e[n][0].call(a.exports,o,a,a.exports,this)}return r[n].exports}function o(e){this.id=e,this.bundle=i,this.exports={}}var u="function"==typeof parcelRequire&&parcelRequire,f="function"==typeof require&&require;i.isParcelRequire=!0,i.Module=o,i.modules=e,i.cache=r,i.parent=u;for(var c=0;c<n.length;c++)i(n[c]);if(n.length){var l=i(n[n.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):t&&(this[t]=l)}return i}({13:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,r){var e=[],n=!0,a=!1,i=void 0;try{for(var u,o=t[Symbol.iterator]();!(n=(u=o.next()).done)&&(e.push(u.value),!r||e.length!==r);n=!0);}catch(t){a=!0,i=t}finally{try{!n&&o.return&&o.return()}finally{if(a)throw i}}return e}(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=function(){function t(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(r,e,n){return e&&t(r.prototype,e),n&&t(r,n),r}}();function e(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}var n=function(){function n(){e(this,n)}return r(n,[{key:"parse",value:function(r){for(var e=[],n=r.trim().replace(/\r/g,"").split(/\n\n/g),a=0,i=n.length;a<i;a++){var u=n[a].split(/\n/g),o=parseInt(u[0]),s=u[1].split(/-->/),l=t(s,2),c=l[0],f=l[1],p=[u[2]];e.push({index:o,subtitle:p,start:this.subTimeToSec(c),end:this.subTimeToSec(f)})}return e.sort(function(t,r){return t.start-r.start})}},{key:"subTimeToSec",value:function(r){var e=r.split(/:|,/g),n=t(e,4),a=n[0],i=n[1],u=n[2],o=n[3];return 60*parseInt(a)*60+60*parseInt(i)+parseInt(u)+parseInt(o)/1e3}}]),n}();exports.default=n;
},{}],9:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),e=require("./SubRipParser.js"),n=i(e);function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=function(e){function i(){r(this,i);var t=o(this,(i.__proto__||Object.getPrototypeOf(i)).call(this)),e="\n                :host {\n                    font-family: helvetica, arial, sans-serif;\n                    color: white;\n                    font-weight: bold;\n                    font-size: 25px;\n                    text-shadow: "+t._getTextShadowStyle()+";\n                    text-align:center;\n                    display: inline-block;\n                }\n\n                :host .subtitle-container {\n                    display: flex;\n                    flex-direction: column;\n                    overflow: hidden;\n                    width: 100%;\n                    height: 100%;\n                    position:absolute;\n                }\n\n                :host .subtitle-container > *:first-child {\n                    margin-top: auto;\n                }\n\n                :host .subtitle-container > *:last-child {\n                    margin-bottom: 40px;\n                }\n\n                :host .subtitle-container > * {\n                    padding: 5px;\n                    display: inline-block;\n                    word-wrap: break-word;\n                }\n            ";if(!t.constructor._styleTag){var n=document.createElement("style");n.innerHTML="\n                "+t.tagName+" video { width: 100%; height: 100% }\n                "+e.replace(/:host/g,t.tagName)+"\n            ",document.head.appendChild(n),t.constructor._styleTag=n}t.attachShadow({mode:"open"});var a=document.createElement("div");a.classList.add("subtitle-container");var s=document.createElement("style");return s.innerHTML=e,t.shadowRoot.appendChild(s),t.shadowRoot.appendChild(a),t.shadowRoot.appendChild(document.createElement("slot")),t._subtitleContainer=a,t._lastTime=0,t.subtitles=null,t.video.addEventListener("timeupdate",function(){return t.updateSubtitles()}),t}return a(i,HTMLElement),t(i,[{key:"video",get:function(){return this.querySelector("video")}},{key:"src",get:function(){return this.getAttribute("src")||""},set:function(t){this.setAttribute("src",t)}},{key:"useVideoTrack",get:function(){return!!this.hasAttribute("use-text-track")}},{key:"useTextTrack",set:function(t){t?this.setAttribute("use-text-track"):this.removeAttribute("use-text-track")}}],[{key:"observedAttributes",get:function(){return["src"]}}]),t(i,[{key:"attributeChangedCallback",value:function(t,e,i){var r=this;switch(t){case"src":this.subtitles=null,this.updateSubtitles(),i&&fetch(i).then(function(t){return t.text()}).then(function(t){r.subtitles=(new n.default).parse(t),r.updateSubtitles()})}}},{key:"updateSubtitles",value:function(){var t=this.video;if(this.subtitles&&t){for(var e=this.subtitles,n=t.currentTime,i="",r=0,o=e.length;r<o;r++){var a=e[r];n>a.start&&n<a.end&&(i+=a.subtitle.map(function(t){return"<div>"+t+"</div>"}).join(""))}this._subtitleContainer.innerHTML=i,this._lastTime=t.currentTime}else this._subtitleContainer.innerHTML="",this._lastTime=0}},{key:"_getTextShadowStyle",value:function(){for(var t=[],e=0;e<160;e++){var n=2*Math.PI*(e/160);t.push([Math.sin(n).toFixed(3),Math.cos(n).toFixed(3)])}return t.map(function(t){return 3*t[0]+"px "+3*t[1]+"px black"}).join(",")}}]),i}();exports.default=s;
},{"./SubRipParser.js":13}],5:[function(require,module,exports) {
"use strict";var e=require("../subrip-video-layer-element.js"),r=t(e);function t(e){return e&&e.__esModule?e:{default:e}}function n(e){if(Array.isArray(e)){for(var r=0,t=Array(e.length);r<e.length;r++)t[r]=e[r];return t}return Array.from(e)}customElements.define("subrip-video-layer",r.default);var a=document.querySelector("subrip-video-layer"),o="",i="";document.addEventListener("dragover",function(e){return e.preventDefault()}),document.addEventListener("dragenter",function(e){return e.preventDefault()}),document.addEventListener("drop",function(e){e.preventDefault();var r=[].concat(n(e.dataTransfer.files)),t=r.filter(function(e){return/(mp4|ogg|webm)$/.test(e.name)}).pop(),d=r.filter(function(e){return/srt$/.test(e.name)}).pop();URL.revokeObjectURL(o),URL.revokeObjectURL(i),a.src="",a.video.src="",t&&(o=URL.createObjectURL(t),i="",d&&(i=URL.createObjectURL(d)),a.src=i,a.video.src=o,a.video.play())});var d=25;document.addEventListener("keydown",function(e){switch(e.keyCode){case 32:a.video.paused?(a.video.ended&&(a.video.currenTime=0),a.video.play()):a.video.pause();break;case 37:a.video.currentTime-=5;break;case 39:a.video.currentTime+=5;break;case 38:d+=2,a.style.fontSize=d+"px";break;case 40:d-=2,a.style.fontSize=d+"px"}});
},{"../subrip-video-layer-element.js":9}]},{},[5], null)